<ivysettings>
  <!-- For CI environment, ivy cache is set to workspace name under user home -->
  <properties environment="env"/>
  <property name="ivy.cache.dir" value="${env.PANTS_IVY_SETTINGS_XML}" override="false"/>

  <settings defaultResolver="chain-repos"/>

  <resolvers>
    <chain name="chain-repos" returnFirst="true">
      <ibiblio name="twitter-internal-artifactory"
               m2compatible="true"
               root="http://artifactory.local.twitter.com/repo/"/>
    </chain>
  </resolvers>

  <!-- don't use the default shared cache with other projects because it gets polluted,
       but do share it for this project so that deploys that re-clone each time share it -->
  <caches default="default" lockStrategy="no-lock" useOrigin="true">
    <cache name="default" basedir="${ivy.cache.dir}" useOrigin="true" defaultTTL="8h">
      <ttl revision="latest.integration" duration="0ms" />
    </cache>
  </caches>
</ivysettings>
